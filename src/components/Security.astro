---
const comparisons = [
  { feature: "Open ports required", ssh: "Yes (port 22)", tailscale: "None", tmuxRemote: "None" },
  { feature: "Firewall / NAT traversal", ssh: "Needs port forwarding", tailscale: "Usually works, issues with CGNAT", tmuxRemote: "Works behind any NAT" },
  { feature: "End-to-end encryption", ssh: "Yes", tailscale: "Yes (WireGuard)", tmuxRemote: "Yes (DTLS + ECC)" },
  { feature: "Open source", ssh: "Yes (OpenSSH)", tailscale: "Client open, server proprietary", tmuxRemote: "Agent open, client SDK proprietary" },
  { feature: "Setup on client devices", ssh: "SSH client only", tailscale: "Tailscale app on every device", tmuxRemote: "iOS app or CLI" },
  { feature: "iOS battery impact", ssh: "None (connect on demand)", tailscale: "Always-on VPN, significant drain", tmuxRemote: "None (connect on demand)" },
  { feature: "Uses system VPN slot", ssh: "No", tailscale: "Yes (blocks other VPNs)", tmuxRemote: "No" },
  { feature: "Mobile terminal experience", ssh: "Third-party SSH apps", tailscale: "VPN + separate SSH app", tmuxRemote: "Purpose-built native iOS app" },
  { feature: "Purpose", ssh: "General remote shell", tailscale: "General-purpose VPN mesh", tmuxRemote: "Built for terminal access" },
];
---
<section class="py-24 relative" id="security">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="mb-16 fade-in">
      <div class="text-center mb-10">
        <div class="inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-emerald-500/10 border border-emerald-500/20 mb-6">
          <svg class="w-7 h-7 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>
        </div>
        <h2 class="text-3xl sm:text-4xl font-bold">
          SSH-grade security,
          <span class="bg-gradient-to-r from-emerald-400 to-emerald-600 bg-clip-text text-transparent">zero hassle</span>
        </h2>
      </div>

      <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-6">
        <div class="glass-card rounded-xl p-6">
          <div class="flex items-start gap-3">
            <div class="flex-shrink-0 w-8 h-8 rounded-lg bg-emerald-500/10 flex items-center justify-center mt-0.5">
              <svg class="w-4 h-4 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg>
            </div>
            <div>
              <h3 class="text-sm font-semibold text-gray-200 mb-1">End-to-end encrypted</h3>
              <p class="text-sm text-gray-400">
                All traffic is encrypted with DTLS using the same trust model as SSH: public key exchange and mutual authentication. No one in between can read your data.
              </p>
            </div>
          </div>
        </div>
        <div class="glass-card rounded-xl p-6">
          <div class="flex items-start gap-3">
            <div class="flex-shrink-0 w-8 h-8 rounded-lg bg-emerald-500/10 flex items-center justify-center mt-0.5">
              <svg class="w-4 h-4 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
            </div>
            <div>
              <h3 class="text-sm font-semibold text-gray-200 mb-1">Powered by Nabto Edge</h3>
              <p class="text-sm text-gray-400">
                Built on <a href="https://www.nabto.com/docs/developer/guides/overview/platform-overview.html" target="_blank" rel="noopener" class="text-emerald-400 hover:text-emerald-300 underline underline-offset-2">Nabto Edge</a>, an enterprise connectivity platform. Nabto takes care of connectivity so you never need to open ports or configure firewalls.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Comparison table -->
    <div class="fade-in max-w-4xl mx-auto">
      <div class="glass-card rounded-xl overflow-hidden">
        <div class="overflow-x-auto">
          <table class="w-full text-left">
            <thead>
              <tr class="border-b border-gray-700/50">
                <th class="px-6 py-4 text-sm font-semibold text-gray-300"></th>
                <th class="px-6 py-4 text-sm font-semibold text-gray-400">SSH</th>
                <th class="px-6 py-4 text-sm font-semibold text-gray-400">Tailscale</th>
                <th class="px-6 py-4 text-sm font-semibold text-emerald-400">tmux-remote + Nabto Edge</th>
              </tr>
            </thead>
            <tbody>
              {comparisons.map((row, i) => (
                <tr class:list={["border-b border-gray-700/30", { "table-highlight": i % 2 === 0 }]}>
                  <td class="px-6 py-3 text-sm text-gray-300 font-medium">{row.feature}</td>
                  <td class="px-6 py-3 text-sm text-gray-400">{row.ssh}</td>
                  <td class="px-6 py-3 text-sm text-gray-400">{row.tailscale}</td>
                  <td class="px-6 py-3 text-sm text-emerald-400 font-medium">{row.tmuxRemote}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Security deep dive -->
    <div class="fade-in mt-16 max-w-3xl mx-auto">
      <h3 class="text-2xl font-bold mb-6 text-center">Zero trust in the infrastructure</h3>

      <div class="space-y-6 text-gray-400">
        <p>
          tmux-remote uses the same security concept that makes SSH the most trusted remote access protocol in the world: <strong class="text-gray-200">direct public key authentication between peers</strong>.
        </p>

        <p>
          When you pair a client, public keys are exchanged directly between your client and your agent. From that point on, every connection is authenticated and encrypted end-to-end using DTLS with elliptic curve cryptography (ECC). The Nabto basestation only mediates the initial handshake to help peers find each other. It never sees your traffic, never holds your private keys, and cannot inject itself into the connection.
        </p>

        <div class="glass-card rounded-xl p-6">
          <p class="text-gray-300 italic">
            "DTLS with elliptic curve cryptography (ECC) enables strong authentication of clients towards embedded devices and vice versa as well as confidentiality and integrity of communication. [...] The Nabto basestation servers do not have to be trusted."
          </p>
          <p class="mt-3 text-sm">
            <a href="https://www.nabto.com/docs/developer/guides/security/intro.html" target="_blank" rel="noopener" class="text-emerald-400 hover:text-emerald-300 underline underline-offset-2">Nabto Edge Security Documentation</a>
          </p>
        </div>

        <div class="grid sm:grid-cols-3 gap-4 mt-8">
          <div class="text-center">
            <div class="text-emerald-400 font-semibold mb-1">Authentication</div>
            <p class="text-sm">Paired public keys verify both sides of every connection, just like SSH authorized_keys.</p>
          </div>
          <div class="text-center">
            <div class="text-emerald-400 font-semibold mb-1">Confidentiality</div>
            <p class="text-sm">End-to-end DTLS encryption. No intermediary, including Nabto, can read your terminal data.</p>
          </div>
          <div class="text-center">
            <div class="text-emerald-400 font-semibold mb-1">Integrity</div>
            <p class="text-sm">Cryptographic message authentication prevents tampering. Any modification is detected and rejected.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Trust signal -->
    <div class="fade-in mt-12 max-w-3xl mx-auto">
      <div class="glass-card rounded-xl p-6 text-center">
        <p class="text-gray-400">
          You may never have heard of Nabto, but their technology is installed in millions of devices. If you've looked at a monitor in an airport terminal, chances are it was configured with Nabto. If you wear a hearing aid, your audiologist may have used Nabto to configure it. If you have a smart lock or security camera, especially from a European brand, there is a good chance you are already using Nabto.
        </p>
        <a href="https://www.nabto.com/cases/" target="_blank" rel="noopener" class="inline-block mt-4 text-emerald-400 hover:text-emerald-300 text-sm underline underline-offset-2">See Nabto case stories</a>
      </div>
    </div>
  </div>
</section>
